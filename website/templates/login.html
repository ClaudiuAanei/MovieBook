{% extends "base.html" %}{% from "bootstrap5/form.html" import render_form %}
{% block content %}
{%  if not logged_in %}
<div class="box">
  <h1 class="titles">Login</h1>
  <!-- TODO: Use Message Flashing to display feedback to the user with a <p> -->
{% with messages = get_flashed_messages() %}
  {% if messages %}
    <ul class=flashes>
    {% for message in messages %}
      <p>{{ message }}</p>
    {% endfor %}
    </ul>
  {% endif %}
{% endwith %}
  <form action="{{ url_for('auth.login') }}" method="post">
    {{ form.hidden_tag() }}
    <div class="form-floating mb-3">
        {{ form.email(class="form-control", placeholder= Email) }}
        <label for="{{ form.email.id }}">Email</label>
    </div>

    <div class="form-floating mb-3">
        {{ form.password1(class="form-control" , placeholder= Password) }}
        <label for="{{ form.password1.id }}">Password</label>
    </div>

    {{ form.submit(class="btn btn-secondary") }}
</form>

  {% if error %}
    <p class=error><strong>Error:</strong> {{ error }}
  {% endif %}
</div>
{% else %}
<div class="container">
  <h1>You are already logged in.</h1>
</div>
{% endif %}

{% endblock %}
